// Questa è una libreria che implementa le funzioni per la gestione di uno stack, in particolare per push e pop

#include <stdio.h>
#include <stdlib.h>

// Dichiarazione delle funzioni della libreria
void push(int valore);
struct stack pop(int valore);

struct stack
		{
			int valore;	// valore dell'elemento da inserire nello stack
			struct stack *next;
		};

struct stack *head = NULL;

void push(int valore)
	{
		struct stack *new_s;

		new_s = (struct stack*)malloc(sizeof(struct stack));

		// Controllo che la malloc sia andata a buon fine
		if ( new_s == NULL )
			{
				printf("Errore di memoria!");
				return;
			}
		else
			{

				// Se la lista è vuota non è un problema perchè inserisco comunque in testa
				new_s -> next = head;
				head = new_s;

				new_s -> valore = valore;		// assegno al valore del nodo dello stack il valore dato in input dall'utente
			}

	}

struct stack pop(int valore)
	{
		struct stack *tmp;

		// Se la lista è vuota restituisco errore poichè non ha nodi
		if ( head == NULL )
			{
				printf("Il nodo non è stato trovato, la lista è vuota!");
				return NULL;
			}
		else
			{
				tmp = head;

				while ( tmp -> valore != valore && tmp -> next != NULL )
					tmp = tmp -> next;

				return tmp -> valore;
			}

		return NULL;

	}
